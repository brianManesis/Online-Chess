{"ast":null,"code":"var _jsxFileName = \"/home/brian/Desktop/Projects/Chess/frontend/src/components/chess/game/board/Chessboard.tsx\",\n  _s = $RefreshSig$();\nimport './Chessboard.css';\nimport Square from './Square';\nimport { ChessBoardModel } from '../../../../model/ChessBoardModel';\nimport { useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Chessboard(props) {\n  _s();\n  const playerColor = props.playerColor;\n  const boardRef = useRef(null);\n  const boardModel = new ChessBoardModel(playerColor).genChessBoard();\n  const boardView = [[], [], [], [], [], [], [], []];\n  for (let i = 0; i < 8; i++) {\n    for (let j = 0; j < 8; j++) {\n      boardView[i].push( /*#__PURE__*/_jsxDEV(Square, {\n        squareModel: boardModel[i][j]\n      }, i + \"\" + j, false, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 17\n      }, this));\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"chessboard\",\n    onMouseMove: event => movePiece(event),\n    onMouseDown: event => grabPiece(event),\n    onMouseUp: event => dropPiece(event),\n    ref: boardRef,\n    children: boardView\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 9\n  }, this);\n}\n_s(Chessboard, \"XcdElC4+nkqWjXVI0f2NZ9bgrbc=\");\n_c = Chessboard;\nlet activePiece = null;\nfunction grabPiece(event) {\n  const element = event.target;\n  if (element.classList.contains(\"piece\")) {\n    const x = event.clientX - 50;\n    const y = event.clientY - 50;\n    element.style.position = \"absolute\";\n    element.style.left = `${x}px`;\n    element.style.top = `${y}px`;\n    activePiece = element;\n  }\n}\nfunction movePiece(event) {\n  if (activePiece) {\n    const x = event.clientX - 50;\n    const y = event.clientY - 50;\n    activePiece.style.position = \"absolute\";\n    activePiece.style.left = `${x}px`;\n    activePiece.style.top = `${y}px`;\n  }\n}\nfunction dropPiece(event) {\n  if (activePiece) {\n    activePiece = null;\n  }\n}\nvar _c;\n$RefreshReg$(_c, \"Chessboard\");","map":{"version":3,"names":["Square","ChessBoardModel","useRef","jsxDEV","_jsxDEV","Chessboard","props","_s","playerColor","boardRef","boardModel","genChessBoard","boardView","i","j","push","squareModel","fileName","_jsxFileName","lineNumber","columnNumber","id","onMouseMove","event","movePiece","onMouseDown","grabPiece","onMouseUp","dropPiece","ref","children","_c","activePiece","element","target","classList","contains","x","clientX","y","clientY","style","position","left","top","$RefreshReg$"],"sources":["/home/brian/Desktop/Projects/Chess/frontend/src/components/chess/game/board/Chessboard.tsx"],"sourcesContent":["import './Chessboard.css';\nimport Square from './Square';\nimport { ChessBoardModel } from '../../../../model/ChessBoardModel';\nimport { useRef } from 'react';\n\nexport default function Chessboard(props:{playerColor:string}){\n    const playerColor = props.playerColor;\n    const boardRef = useRef(null);\n\n    const boardModel = new ChessBoardModel(playerColor).genChessBoard();\n    const boardView:any = [[],[],[],[],[],[],[],[]];\n\n    for(let i = 0; i<8; i++){\n        for(let j = 0; j<8; j++){\n            boardView[i].push(\n                <Square key={i+\"\"+j} squareModel={boardModel[i][j]}></Square>\n            );\n        }\n    }\n    return(\n        <div id = \"chessboard\"\n        onMouseMove={event => movePiece(event)}   \n        onMouseDown={event => grabPiece(event)}\n        onMouseUp={event => dropPiece(event)}\n        ref={boardRef}>\n            {boardView}\n        </div>\n    );\n}\n\nlet activePiece: HTMLElement | null = null;\n\nfunction grabPiece(event: React.MouseEvent){\n    const element = event.target as HTMLElement;\n\n    if(element.classList.contains(\"piece\")){\n        const x = event.clientX-50;\n        const y = event.clientY-50;\n        element.style.position = \"absolute\";\n        element.style.left = `${x}px`;\n        element.style.top = `${y}px`;\n        activePiece = element;\n    }\n}\n\nfunction movePiece(event: React.MouseEvent){\n    if(activePiece){\n        const x = event.clientX-50;\n        const y = event.clientY-50;\n        activePiece.style.position = \"absolute\";\n        activePiece.style.left = `${x}px`;\n        activePiece.style.top = `${y}px`;\n    }\n}\n\nfunction dropPiece(event: React.MouseEvent){\n    if(activePiece){\n        activePiece = null;\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}